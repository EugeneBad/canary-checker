apiVersion: canaries.flanksource.com/v1
kind: SystemTemplate
metadata:
  name: cluster
  labels:
    canary: pods
spec:
  type: KubernetesCluster
  icon: kubernetes
  schedule: "@every 20m"
  id:
    javascript: properties.id
  components:
    # - pods:
    #     k8s-app: kube-dns
    - lookup:
        kubernetes:
          - kind: Pod
---
apiVersion: canaries.flanksource.com/v1
kind: SystemTemplate
metadata:
  name: acme-app
  labels:
    canary: pods
spec:
  type: KubernetesCluster
  icon: kubernetes
  schedule: "@every 20m"
  id:
    javascript: properties.id
  components:
    # - pods:
    #     k8s-app: kube-dns
    - selectors:
        labels:
          canary: pods
          kind: pod
        